<!doctype html><html lang=en data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://enbuild-docs.vivplatform.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://enbuild-docs.vivplatform.io/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://enbuild-docs.vivplatform.io/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg="></script><link rel=stylesheet href=/main.d42147d2b0f853d326f55843b86b57e11b2ed8f86c347d03e32b6e9b8d23b8419b2bf82e61e5dfc1c9bf554319f3e965aa5e73e8596ebf98ba89ee9e3ab36b4a.css integrity="sha512-1CFH0rD4U9Mm9VhDuGtX4Rsu2PhsNH0D4ytum40juEGbK/guYeXfwcm/VUMZ8+llql5z6Fluv5i6ie6eOrNrSg==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><base href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/install-and-configure-keycloak-for-enbuild-sso/><link rel=canonical href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/install-and-configure-keycloak-for-enbuild-sso/><title>Install and Configure Keycloak for ENBUILD SSO | ENBUILD</title><meta name=description content="Install and Configure Keycloak for ENBUILD SSO"><link rel=icon href=/favicon-16x16.png sizes=16x16 type=image/png><link rel=icon href=/favicon-32x32.png sizes=32x32 type=image/png><link rel=icon href=/favicon-150x150.png sizes=150x150 type=image/png><link rel=apple-touch-icon href=/apple-touch-icon.png sizes=180x180 type=image/png><link rel=icon href=/favicon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/favicon-512x512.png sizes=512x512 type=image/png><link rel=icon href=/favicon.svg><link rel=mask-icon href=/mask-icon.svg color=white><meta property="og:title" content="Install and Configure Keycloak for ENBUILD SSO"><meta property="og:description" content="Install and Configure Keycloak for ENBUILD SSO"><meta property="og:type" content="article"><meta property="og:url" content="https://enbuild-docs.vivplatform.io/docs/how-to-guides/install-and-configure-keycloak-for-enbuild-sso/"><meta property="og:image" content="https://enbuild-docs.vivplatform.io/cover.png"><meta property="article:section" content="docs"><meta property="og:site_name" content="ENBUILD"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://enbuild-docs.vivplatform.io/cover.png"><meta name=twitter:title content="Install and Configure Keycloak for ENBUILD SSO"><meta name=twitter:description content="Install and Configure Keycloak for ENBUILD SSO"><meta name=twitter:site content="@getdoks"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://enbuild-docs.vivplatform.io/","name":"Enbuild","position":1},{"@type":"ListItem","item":"https://enbuild-docs.vivplatform.io/docs/","name":"Docs","position":2},{"@type":"ListItem","item":"https://enbuild-docs.vivplatform.io/docs/how-to-guides/","name":"How to Guides","position":3},{"@type":"ListItem","name":"Install and Configure Keycloak for Enbuild Sso","position":4}]}</script></head><body class="single section docs" data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><div class=sticky-top><header class="navbar navbar-expand-lg"><div class=container-lg><a class="navbar-brand me-auto me-lg-3" href=/>ENBUILD</a>
<button type=button id=searchToggleMobile class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button>
<button class="btn btn-link d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavSection aria-controls=offcanvasNavSection aria-label="Open section navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 5m-1 0a1 1 0 102 0 1 1 0 10-2 0"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasNavSection aria-labelledby=offcanvasNavSectionLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavSectionLabel>Docs</h5><button type=button class="btn btn-link nav-link p-0" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-bf647454e36069fd16f1a7a35cf6a865 aria-expanded=false>
Getting Started</button><div class=collapse id=section-bf647454e36069fd16f1a7a35cf6a865><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/why-enbuild/>Why ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/about-vivsoft/>About Vivsoft</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/how-enbuild-works/>How ENBUILD works</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-architecture/>ENBUILD Architecture</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-ui-walkthrough/>ENBUILD UI walkthrough</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/helm-values/>Helm Values</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-repositories/>ENBUILD Repositories</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-353abe45692fc2cda5002868689ae0c1 aria-expanded=true>
How-to Guides</button><div class="collapse show" id=section-353abe45692fc2cda5002868689ae0c1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-for-local-testing/>Deploying ENBUILD for Local Testing</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/configuring-enbuild/>Configuring ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-using-enbuild-cli/>Deploying ENBUILD using ENBUILD CLI</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-using-ironbank-images/>Deploying ENBUILD Using IronBank Images</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/enbuild-helm-chart-installation-in-airgapped-kubernetes-environment/>ENBUILD Helm Chart Installation in Airgapped Kubernetes Environment</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-bigbang/>Deploying Bigbang</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-kubernetes/>Deploying Kubernetes</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/installing-istio/>Installing Istio</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/using-enbuild-ami/>Using ENBUILD AMI</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/exposing-enbuild-ui/>Exposing ENBUILD UI</a></li><li><a class="docs-link rounded active" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/install-and-configure-keycloak-for-enbuild-sso/>Install and Configure Keycloak for ENBUILD SSO</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/creting-new-catalog-template-repository/>Creting new catalog template repository</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/adding-new-catalog-item-in-enbuild/>Adding new Catalog Item in ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/installing-nginx-ingress/>Installing Nginx Ingress</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/exporting-catalog-item-from-enbuild/>Exporting Catalog Item from ENBUILD</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-231cf4c70d866b616c21baddaeed0696 aria-expanded=false>
Troubleshooting</button><div class=collapse id=section-231cf4c70d866b616c21baddaeed0696><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/troubleshooting/kubectl-cheat-sheet/>Kubectl Cheat Sheet</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/faq/frequently-asked-questions/>Frequently Asked Questions</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/faq/glossary/>Glossary</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d95867deadfe690e40f42068d6b59df8 aria-expanded=false>
References</button><div class=collapse id=section-d95867deadfe690e40f42068d6b59df8><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/argocd/>ArgoCD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/platform-one-big-bang/>Platform One Big Bang</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/gitlab/>GitLab</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/helm/>Helm</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/istio/>Istio</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/k3d/>K3D</a></li></ul></div></li></ul></nav></aside></div></div><button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavMain aria-controls=offcanvasNavMain aria-label="Open main navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><div class="offcanvas offcanvas-end h-auto" tabindex=-1 id=offcanvasNavMain aria-labelledby=offcanvasNavMainLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavMainLabel>ENBUILD</h5><button type=button class="btn btn-link nav-link p-0" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between"><ul class="navbar-nav flex-grow-1"><li class=nav-item><a class="nav-link active" href=https://enbuild-docs.vivplatform.io/docs/getting-started/introduction/ aria-current=true>Docs</a></li><li class=nav-item><a class=nav-link href=https://enbuild-docs.vivplatform.io/docs/references/>References</a></li></ul><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button>
<button id=buttonColorMode class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type=button aria-label="Toggle theme"><svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg><svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg></button><ul id=socialMenu class="nav mx-auto flex-row order-lg-4"><li class=nav-item><a class="nav-link social-link" href=https://github.com/vivsoftorg/enbuild.git><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 visually-hidden">GitHub</small></a></li></ul></div></div></div></header></div><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h1 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h1><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=utf-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search index…</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class="submitted d-none"><time class=created-date>Date here</time></div></header><div class=content>Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class="wrap container-lg" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-bf647454e36069fd16f1a7a35cf6a865 aria-expanded=false>
Getting Started</button><div class=collapse id=section-bf647454e36069fd16f1a7a35cf6a865><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/why-enbuild/>Why ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/about-vivsoft/>About Vivsoft</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/how-enbuild-works/>How ENBUILD works</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-architecture/>ENBUILD Architecture</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-ui-walkthrough/>ENBUILD UI walkthrough</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/helm-values/>Helm Values</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/getting-started/enbuild-repositories/>ENBUILD Repositories</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-353abe45692fc2cda5002868689ae0c1 aria-expanded=true>
How-to Guides</button><div class="collapse show" id=section-353abe45692fc2cda5002868689ae0c1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-for-local-testing/>Deploying ENBUILD for Local Testing</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/configuring-enbuild/>Configuring ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-using-enbuild-cli/>Deploying ENBUILD using ENBUILD CLI</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-enbuild-using-ironbank-images/>Deploying ENBUILD Using IronBank Images</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/enbuild-helm-chart-installation-in-airgapped-kubernetes-environment/>ENBUILD Helm Chart Installation in Airgapped Kubernetes Environment</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-bigbang/>Deploying Bigbang</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/deploying-kubernetes/>Deploying Kubernetes</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/installing-istio/>Installing Istio</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/using-enbuild-ami/>Using ENBUILD AMI</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/exposing-enbuild-ui/>Exposing ENBUILD UI</a></li><li><a class="docs-link rounded active" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/install-and-configure-keycloak-for-enbuild-sso/>Install and Configure Keycloak for ENBUILD SSO</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/creting-new-catalog-template-repository/>Creting new catalog template repository</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/adding-new-catalog-item-in-enbuild/>Adding new Catalog Item in ENBUILD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/installing-nginx-ingress/>Installing Nginx Ingress</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/how-to-guides/exporting-catalog-item-from-enbuild/>Exporting Catalog Item from ENBUILD</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-231cf4c70d866b616c21baddaeed0696 aria-expanded=false>
Troubleshooting</button><div class=collapse id=section-231cf4c70d866b616c21baddaeed0696><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/troubleshooting/kubectl-cheat-sheet/>Kubectl Cheat Sheet</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/faq/frequently-asked-questions/>Frequently Asked Questions</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/faq/glossary/>Glossary</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d95867deadfe690e40f42068d6b59df8 aria-expanded=false>
References</button><div class=collapse id=section-d95867deadfe690e40f42068d6b59df8><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/argocd/>ArgoCD</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/platform-one-big-bang/>Platform One Big Bang</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/gitlab/>GitLab</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/helm/>Helm</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/istio/>Istio</a></li><li><a class="docs-link rounded" href=https://enbuild-docs.vivplatform.io/docs/references/k3d/>K3D</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=toc><ul><li><a href=#login-to-platform1-registry>Login to Platform1 registry</a></li><li><a href=#create-namespace-and-image-pull-secret>Create Namespace and Image pull secret</a></li><li><a href=#install-keycloak-helm-charts>Install keycloak Helm charts</a></li></ul><ul><li><a href=#create-a-realm>Create a realm</a></li><li><a href=#create-a-enbuild-ui-client>Create a enbuild-ui Client</a></li><li><a href=#create-a-enbuild-client>Create a enbuild Client</a></li><li><a href=#realm-roles-and-groups>Realm Roles and Groups</a></li><li><a href=#create-users>Create Users</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Install and Configure Keycloak for ENBUILD SSO</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#login-to-platform1-registry>Login to Platform1 registry</a></li><li><a href=#create-namespace-and-image-pull-secret>Create Namespace and Image pull secret</a></li><li><a href=#install-keycloak-helm-charts>Install keycloak Helm charts</a></li></ul><ul><li><a href=#create-a-realm>Create a realm</a></li><li><a href=#create-a-enbuild-ui-client>Create a enbuild-ui Client</a></li><li><a href=#create-a-enbuild-client>Create a enbuild Client</a></li><li><a href=#realm-roles-and-groups>Realm Roles and Groups</a></li><li><a href=#create-users>Create Users</a></li></ul></nav></div></details></nav><h1 id=prerequisites>Prerequisites</h1><p>Before you begin, ensure that you have the following prerequisites in place:</p><ul><li>Access to Platform1 registry</li><li>Kubernetes cluster is up and running and you have access to it via <code>kubectl</code> command.</li><li>Helm 3 installed on your system.</li></ul><h2 id=login-to-platform1-registry>Login to Platform1 registry<a href=#login-to-platform1-registry class=anchor aria-hidden=true>#</a></h2><p>Login to Platform1 registry by using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>helm registry login registry1.dso.mil/bigbang
</span></span><span class=line><span class=cl>WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /root/.kube/config
</span></span><span class=line><span class=cl>WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /root/.kube/config
</span></span><span class=line><span class=cl>Username: Juned_Memon
</span></span><span class=line><span class=cl>Password:
</span></span><span class=line><span class=cl>Login Succeeded
</span></span></code></pre></div><h2 id=create-namespace-and-image-pull-secret>Create Namespace and Image pull secret<a href=#create-namespace-and-image-pull-secret class=anchor aria-hidden=true>#</a></h2><p>We need to create the <code>keycloak</code> namespace</p><pre tabindex=0><code>kubectl create ns keycloak
</code></pre><p>Next, we need to create the imagePullSecret for pulling the images from Platform1 registry.</p><p>First export the REGISTRY1_USER and REGISTRY1_PASSWORD with your P1 credentials.</p><pre tabindex=0><code>export REGISTRY1_USER=&lt;YOUR_REGISTRY1_USER&gt;
export REGISTRY1_PASSWORD=&lt;YOUR_REGISTRY1_PASSWORD&gt;
</code></pre><p>Next, create the imagePullSecret for pulling the images from Platform1 registry.</p><pre tabindex=0><code>kubectl create secret -n keycloak docker-registry private-registry --docker-server=registry1.dso.mil --docker-username=$REGISTRY1_USER --docker-password=$REGISTRY1_PASSWORD
</code></pre><h2 id=install-keycloak-helm-charts>Install keycloak Helm charts<a href=#install-keycloak-helm-charts class=anchor aria-hidden=true>#</a></h2><p>Now install <code>keycloak</code> Helm charts using the P1 Helm chart:</p><p>Create a keycloak-input-values.yaml</p><pre tabindex=0><code>## Overrides the default args for the Keycloak container
args:
  - &#34;start&#34;
  - &#34;--http-port=8080&#34;
  - &#34;--import-realm&#34;

# Additional environment variables for Keycloak
# https://www.keycloak.org/server/all-config
extraEnv: |-
  - name: KC_HTTP_ENABLED
    value: &#34;true&#34;
  - name: KC_PROXY
    value: edge
  - name: KC_HOSTNAME_STRICT
    value: &#34;false&#34;
  - name: KC_HOSTNAME_STRICT_HTTPS
    value: &#34;false&#34;
  - name: KC_HTTP_RELATIVE_PATH
    value: /auth
</code></pre><pre tabindex=0><code>helm upgrade --install --namespace keycloak keycloak oci://registry1.dso.mil/bigbang/keycloak --version 23.0.7-bb.2  -f keycloak-input-values.yaml
</code></pre><p>Verify the <code>keycloak</code> pod is up and running:</p><pre tabindex=0><code># kubectl get po -n keycloak
NAME                    READY   STATUS    RESTARTS   AGE
keycloak-0              1/1     Running   0          105s
keycloak-postgresql-0   1/1     Running   0          16m
</code></pre><h1 id=access-keycloak-ui>Access keycloak UI</h1><p>Access the Keycloak web interface using Port forwarding</p><pre tabindex=0><code>❯ kubectl port-forward svc/keycloak-http 9090:80 -n keycloak
Forwarding from 127.0.0.1:9090 -&gt; 8080
Forwarding from [::1]:9090 -&gt; 8080
Handling connection for 9090
Handling connection for 9090
Handling connection for 9090
</code></pre><h1 id=get-the-keycloak-admin-credentials>Get the Keycloak admin credentials</h1><p>Use the following command to get the admin credentials for the <code>keycloak</code> instance:</p><pre tabindex=0><code>USER=$(kubectl get secret keycloak-env -n keycloak -o jsonpath=&#39;{.data.KEYCLOAK_ADMIN_PASSWORD}&#39; | base64 --decode)
PASSWORD=$(kubectl get secret keycloak-env -n keycloak -o jsonpath=&#39;{.data.KEYCLOAK_ADMIN}&#39; | base64 --decode)
echo &#34;Keycloak Admin user is $USER and password is $PASSWORD&#34;
</code></pre><h1 id=configure-the-keycloak>Configure the Keycloak</h1><h2 id=create-a-realm>Create a realm<a href=#create-a-realm class=anchor aria-hidden=true>#</a></h2><p>keyclaok realm is a logical container for a set of related users, applications, and groups.</p><p>Access the <code>http://localhost:9090/auth/admin/#/realms</code> and click on <code>Add realm</code>.</p><p>To save we have provided a realm.json file. All you have to do is import it.</p><p><picture><img src=/images/how-to-guides/keycloak/add-realm.png alt="Add Realm"></img></picture></p><p>Click on the <code>Browse</code> button and provide the <a href=https://github.com/vivsoftorg/enbuild/blob/main/examples/keycloak/realm.json>realm.json</a> file.
<picture><img src=/images/how-to-guides/keycloak/add-realm2.png alt="Add Realm2"></img></picture></p><h2 id=create-a-enbuild-ui-client>Create a enbuild-ui Client<a href=#create-a-enbuild-ui-client class=anchor aria-hidden=true>#</a></h2><p>Clients are entities that can request Keycloak to authenticate a user. Most often, clients are applications and services that want to use Keycloak to secure themselves and provide a single sign-on solution.</p><p>Clients can also be entities that just want to request identity information or an access token so that they can securely invoke other services on the network that are secured by Keycloak.</p><p>Click on the Clients menu from the left pane. All the available clients for the selected Realm will get listed here.</p><p>Rather creating Clients manually we will use <code>Import</code> so that the you do not have provide the details manually.</p><p>To create a new client, click on <code>Import client</code>.</p><p><picture><img src=/images/how-to-guides/keycloak/import_client.png alt=import_client></img></picture></p><p>Click on the <code>Browse</code> button and provide the <a href=https://github.com/vivsoftorg/enbuild/blob/main/examples/keycloak/kc-client-enbuild-ui.json>enbuild-ui.json</a>file.</p><p><picture><img src=/images/how-to-guides/keycloak/import_client_1.png alt=import_client></img></picture></p><p>and Save the client.</p><p>After import make sure you configure the valid redirect URI&rsquo;s.</p><p>You have to provide the URI(FQDN) of ENBUILD that you have configured while installing the ENBUILD Helm chart.</p><p><picture><img src=/images/how-to-guides/keycloak/configure-client.png alt=configure-client></img></picture></p><h2 id=create-a-enbuild-client>Create a enbuild Client<a href=#create-a-enbuild-client class=anchor aria-hidden=true>#</a></h2><p>Use the same method to <code>Import</code> the <a href=https://github.com/vivsoftorg/enbuild/blob/main/examples/keycloak/kc-client-enbuild.json>enbuild.json</a> client.</p><p>After you save the <code>enbuild</code> client.
Go to the Credentials tab of the <code>enbuild</code> client to get the Client Secret which is required for configuring the (Keycloak in ENBUILD admin setting)[../configuring-enbuild/#configure-keycloak]</p><p><picture><img src=/images/how-to-guides/keycloak/credentials.png alt=credentials></img></picture></p><h2 id=realm-roles-and-groups>Realm Roles and Groups<a href=#realm-roles-and-groups class=anchor aria-hidden=true>#</a></h2><p>❗ <strong>Note:</strong> All these roles and groups are already created in the realm, when we imported the realms.</p><p>ENBUILD support different roles , and based on these roles, differnt type of catalog can be visible.</p><p>By default</p><ul><li>ENBUILD_ADMIN</li><li>ENBUILD-APPDEV</li><li>ENBUILD-DATAOPS</li><li>ENBUILD-DEVOPS</li><li>ENBUILD_USER</li></ul><p>these Groups are present in the realm we imported.</p><p><picture><img src=/images/how-to-guides/keycloak/keycloak-groups.png alt=keycloak-groups></img></picture></p><p>These Groups mapped to the following roles in one to one relationship.</p><ul><li>admin &ndash; ENBUILD_ADMIN</li><li>appdev &ndash; ENBUILD-APPDEV</li><li>dataops &ndash; ENBUILD-DATAOPS</li><li>devops &ndash; ENBUILD-DEVOPS</li><li>user &ndash; ENBUILD_USER</li></ul><p><picture><img src=/images/how-to-guides/keycloak/keycloak-roles.png alt=keycloak-roles></img></picture></p><h2 id=create-users>Create Users<a href=#create-users class=anchor aria-hidden=true>#</a></h2><p>Users are entities that are able to log into your system.
They can have attributes associated with themselves like email, username, address, phone number, and birth day.
<picture><img src=/images/how-to-guides/keycloak/crete_user.png alt=crete_user.png></img></picture>
They can be assigned group membership by clicking on the <code>Join Groups</code> button or <code>Groups</code> tab from the profile.</p><p><picture><img src=/images/how-to-guides/keycloak/add_user_to_group.png alt=crete_user.png></img></picture></p><p>Click on the <code>Add Member</code> button and select the group you want to add the user to, then click on the <code>Add</code> button.</p><p><picture><img src=/images/how-to-guides/keycloak/add_user_to_group1.png alt=add_user_to_group></img></picture></p><h1 id=exposing-the-keycloak-service-in-kubernetes>Exposing the KeyCloak service in Kubernetes.</h1><p>So far we have accessed the keycloak service from the browser by using the port-forwarding and then accessing it via local-port.
But for production usage and to <a href=../configuring-enbuild/#configure-keycloak>configure it as SSO inside ENBUILD</a> we need to expose it on a public IP address.</p><p>There are multiple ways to achive that -</p><ul><li>Expose the <code>keycloak-http</code> service as LoadBalancer - This way the kubernertes will create a external loadbalancer and expose the service on a public IP address.</li><li>Create an Ingress resource for the <code>keycloak-http</code> service - This way we can use a ingress controller to route traffic to the keycloak service based on the hostname.</li><li>If you have istio deployed and configured in your cluster, then expose it as virtual service. <a href=https://github.com/vivsoftorg/enbuild/blob/main/examples/keycloak/istio-virtaul-service-for-keycloak.yaml>This is the sample virtaul service configurations you can use</a></li></ul><p>❗ <strong>Note:</strong> Make sure to adjust the <code>hosts</code> to the right value to which you want to expose the service.</p><h1 id=create-a-dns-record-for-the-keycloak>Create a DNS record for the keycloak</h1><p>after you have exposed the <code>keycloak-http</code> service using any of the above methods, you can create a DNS record pointing to the public IP address or FQDN of the loadbalncer.</p><p>e.g.
if you have exposed the service using the istio virtual service you will need to create a DNS record for this service in your DNS provider.</p><p>The IP address of the DNS will be the EXTERNAL-IP of the istio-ingressgateway service, you can find that using the command below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get svc -n istio-system istio-ingressgateway -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.status.loadBalancer.ingress[*].ip}&#39;</span>
</span></span></code></pre></div><p>Create a DNS type A record using the IP address from the command above.</p><p>Once done you can proceed to <a href=../configuring-enbuild/#configure-keycloak>configure keycloak as SSO for ENBUILD</a></p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=/docs/how-to-guides/exposing-enbuild-ui/ class="stretched-link text-reset text-decoration-none">Exposing ENBUILD UI</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=/docs/how-to-guides/creting-new-catalog-template-repository/ class="stretched-link text-reset text-decoration-none">Creting new catalog template repository</a></div><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div><footer class="footer text-muted"><div class=container-lg><div class=row><div class="col-lg-8 text-center text-lg-start"><ul class=list-inline></ul></div><div class="col-lg-8 text-center text-lg-end"><ul class=list-inline><li class=list-inline-item>Brought to you by <a class=text-muted href=https://www.vivsoft.io/>VivSoft</a></li></ul></div></div></div></footer><script async src=/js/app.1e84dcdaa5ccef6fe83f6d88ac1e444a1f237111cfa2a7a97427f758e9c27ef4.js integrity="sha256-HoTc2qXM72/oP22IrB5ESh8jcRHPoqepdCf3WOnCfvQ="></script><script async src=/js/flexsearch.7ee03211f5cda01ce38eedc1fcedce9ad03d71283881a73fa8421ebc20317e39.js integrity="sha256-fuAyEfXNoBzjju3B/O3OmtA9cSg4gac/qEIevCAxfjk="></script><script async src=/js/search-modal.c4c023efcdee308e4b5f1110afe1db6b1656f217e67aa7efe54e2f4bf2feccf8.js integrity="sha256-xMAj783uMI5LXxEQr+HbaxZW8hfmeqfv5U4vS/L+zPg="></script></body></html>